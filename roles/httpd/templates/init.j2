#!/bin/bash

# httpd:       Start up httpd-wxx
#
# chkconfig: 345 99 28
# description: This service starts up httpd-wxx
#
# processname: httpd-wxx

### BEGIN INIT INFO
# Provides: httpd-wxx
# Required-Start: $local_fs $network
# Required-Stop: $local_fs
# Default-Start: 3 4 5
# Default-Stop: 0 1 6
# Short-Description: Start up httpd-wxx
# Description: This service starts up httpd-wxx
### END INIT INFO

ACTION=$1
RUNUSER=webuser
USAGE="$(basename $0) <start|stop|restart|status>"

case $ACTION in
        start)
                su - $RUNUSER -c "{{ base_dir }}/httpd/bin/start.sh"
                ;;
        stop)
                su - $RUNUSER -c "{{ base_dir }}/httpd/bin/stop.sh"
                ;;
        restart)
                su - $RUNUSER -c "{{ base_dir }}/httpd/bin/restart.sh"
                ;;
        status)
                su - $RUNUSER -c "{{ base_dir }}/httpd/bin/status.sh"
                ;;
        *)      echo $USAGE
esac
